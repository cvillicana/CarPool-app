{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, App, LoadingController } from 'ionic-angular';\r\nimport { LoginPage } from '../../pages/login/login';\r\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\r\nimport { AuthProvider } from '../../providers/auth/auth';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { ImageProvider } from '../../providers/image/image';\r\n\r\nimport { User } from '../../models/user';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n\r\n  public user: any;\r\n  public profileImage: any;\r\n  public profileForm: any;\r\n  public submitAttempt: boolean;\r\n  public loading: any;\r\n\r\n  constructor(\r\n    public app: App,\r\n    public navCtrl: NavController,\r\n    public authService: AuthProvider,\r\n    public imageService: ImageProvider,\r\n    private formBuilder: FormBuilder,\r\n    public userService: UserProvider,\r\n    public loadingCtrl: LoadingController) {\r\n        this.profileImage = \"assets/images/profilepicture.png\";\r\n        this.profileForm = formBuilder.group({\r\n          name: formBuilder.group({\r\n            firstName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\r\n            lastName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])]\r\n          })\r\n        });\r\n\r\n    }\r\n\r\n  ionViewDidLoad(){\r\n    this.getMyUser();\r\n  }\r\n\r\n  getMyUser(){\r\n    this.showLoader('Loading...');\r\n    this.userService.getMyUser().then((res) => {\r\n      this.user = res;\r\n      this.profileImage = this.user.picture;\r\n      (<FormGroup>this.profileForm.controls['name'].controls['firstName'])\r\n        .setValue(this.user.name.firstName, {onlySelf: true});\r\n      (<FormGroup>this.profileForm.controls['name'].controls['lastName'])\r\n        .setValue(this.user.name.lastName, {onlySelf: true});\r\n        this.loading.dismiss();\r\n    }, (err) => {\r\n      this.loading.dismiss();\r\n    })\r\n  }\r\n\r\n  save(model: User, isValid:boolean){\r\n    if(!isValid){\r\n      return;\r\n    }\r\n    this.submitAttempt = true;\r\n    this.userService.updateUser(model).then((result) => {\r\n      console.log(result);\r\n    }, (err) => {\r\n    //  this.loading.dismiss();\r\n    })\r\n\r\n  }\r\n\r\n  takePicture(){\r\n    this.imageService.presentActionSheet().then((img) => {\r\n      this.showLoader('Uploading')\r\n      this.userService.uploadImage(img)\r\n        .then((data) => {\r\n        this.loading.dismiss();\r\n      }, (err) => {\r\n        this.loading.dismiss();\r\n      });\r\n      this.profileImage = img;\r\n    });\r\n  }\r\n\r\n  logOut(){\r\n    this.authService.logout();\r\n    this.app.getRootNav().setRoot(LoginPage);\r\n  }\r\n\r\n  showLoader(content){\r\n    this.loading = this.loadingCtrl.create({\r\n      content: content\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}