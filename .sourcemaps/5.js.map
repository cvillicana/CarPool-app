{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, App, LoadingController } from 'ionic-angular';\nimport { LoginPage } from '../../pages/login/login';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { UserProvider } from '../../providers/user/user';\nimport { ImageProvider } from '../../providers/image/image';\n\nimport { User } from '../../models/user';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  public user: any;\n  public profileImage: any;\n  public profileForm: any;\n  public submitAttempt: boolean;\n  public loading: any;\n\n  constructor(\n    public app: App,\n    public navCtrl: NavController,\n    public authService: AuthProvider,\n    public imageService: ImageProvider,\n    private formBuilder: FormBuilder,\n    public userService: UserProvider,\n    public loadingCtrl: LoadingController) {\n        this.profileImage = \"assets/images/profilepicture.png\";\n        this.profileForm = formBuilder.group({\n          name: formBuilder.group({\n            firstName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\n            lastName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])]\n          })\n        });\n\n    }\n\n  ionViewDidLoad(){\n    this.getMyUser();\n  }\n\n  getMyUser(){\n    this.showLoader('Loading...');\n    this.userService.getMyUser().then((res) => {\n      this.user = res;\n      this.profileImage = this.user.picture;\n      (<FormGroup>this.profileForm.controls['name'].controls['firstName'])\n        .setValue(this.user.name.firstName, {onlySelf: true});\n      (<FormGroup>this.profileForm.controls['name'].controls['lastName'])\n        .setValue(this.user.name.lastName, {onlySelf: true});\n        this.loading.dismiss();\n    }, (err) => {\n      this.loading.dismiss();\n    })\n  }\n\n  save(model: User, isValid:boolean){\n    if(!isValid){\n      return;\n    }\n    this.submitAttempt = true;\n    this.userService.updateUser(model).then((result) => {\n      console.log(result);\n    }, (err) => {\n    //  this.loading.dismiss();\n    })\n\n  }\n\n  takePicture(){\n    this.imageService.presentActionSheet().then((img) => {\n      this.showLoader('Uploading')\n      this.userService.uploadImage(img)\n        .then((data) => {\n        this.loading.dismiss();\n      }, (err) => {\n        this.loading.dismiss();\n      });\n      this.profileImage = img;\n    });\n  }\n\n  logOut(){\n    this.authService.logout();\n    this.app.getRootNav().setRoot(LoginPage);\n  }\n\n  showLoader(content){\n    this.loading = this.loadingCtrl.create({\n      content: content\n    });\n    this.loading.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}