{"version":3,"sources":["../../src/pages/search-trip/search-trip.module.ts","../../src/components/google-autocomplete/google-autocomplete.module.ts","../../src/components/google-autocomplete/google-autocomplete.ts","../../src/pages/search-trip/search-trip.ts","../../src/models/searchTrip.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SearchTripPage } from './search-trip';\r\nimport { GoogleAutocompleteModule } from '../../components/google-autocomplete/google-autocomplete.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchTripPage,\r\n  ],\r\n  imports: [\r\n    GoogleAutocompleteModule,\r\n    IonicPageModule.forChild(SearchTripPage),\r\n  ],\r\n})\r\nexport class SearchTripPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-trip/search-trip.module.ts","import { NgModule } from '@angular/core';\r\nimport { GoogleAutocompleteComponent } from './google-autocomplete';\r\nimport { IonicModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n\tdeclarations: [GoogleAutocompleteComponent],\r\n\timports: [ IonicModule ],\r\n\texports: [GoogleAutocompleteComponent]\r\n})\r\nexport class GoogleAutocompleteModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/google-autocomplete/google-autocomplete.module.ts","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { GoogleMapsProvider } from '../../providers/google-maps/google-maps';\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'google-autocomplete',\r\n  templateUrl: 'google-autocomplete.html'\r\n})\r\n\r\nexport class GoogleAutocompleteComponent implements OnInit {\r\n\r\n  @Input() public autocomplete: any;\r\n  @Input() public options: any;\r\n  @Output() public itemSelected:  EventEmitter<any>;\r\n\r\n  public autocompleteItems : any;\r\n  public acService: any;\r\n  public geoCodeService: any;\r\n\r\n  constructor(public googleMapsService: GoogleMapsProvider) {\r\n    this.itemSelected = new EventEmitter<any>();\r\n    this.autocompleteItems = [];\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.acService = new google.maps.places.AutocompleteService();\r\n    this.geoCodeService = new google.maps.Geocoder;\r\n  }\r\n\r\n  public clearSearch():void {\r\n    this.autocompleteItems = [];\r\n    this.autocomplete.query = \"\";\r\n  }\r\n\r\n  public select(item: any): void {\r\n    this.clearSearch();\r\n    this.googleMapsService.geocode(item.place_id).then((place) => {\r\n      this.itemSelected.emit(place)\r\n    }, (err) => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  public updateGoogleSearch(){\r\n    if (this.autocomplete.query == '' || this.autocomplete.query.length < 3) {\r\n      this.autocompleteItems = [];\r\n      return;\r\n    }\r\n    let config = {\r\n      types:  ['(cities)'],\r\n      input: this.autocomplete.query\r\n    }\r\n    this.googleMapsService.autocomplete(config).then((items) => {\r\n      this.autocompleteItems = items;\r\n    }, (err) =>{\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/google-autocomplete/google-autocomplete.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, LoadingController} from 'ionic-angular';\r\nimport { TripProvider } from '../../providers/trip/trip';\r\n\r\nimport { SearchTrip } from '../../models/searchTrip';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search-trip',\r\n  templateUrl: 'search-trip.html',\r\n})\r\nexport class SearchTripPage {\r\n\r\n  public loading: any;\r\n\r\n  public autocompleteStart: any;\r\n  public startSearchDirection: any;\r\n  public optionsStart: any;\r\n\r\n  public nearTrips: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public loadingCtrl: LoadingController,\r\n    public tripService: TripProvider) {\r\n      this.autocompleteStart = {\r\n        query : \"\"\r\n      }\r\n      this.optionsStart = {\r\n        placeholder : \"Start Trip\"\r\n      }\r\n  }\r\n\r\n  public getSelectionStart(selection: any): void{\r\n    this.startSearchDirection = new SearchTrip(selection);\r\n  }\r\n\r\n  public searchNear():void{\r\n    if(!this.startSearchDirection){\r\n      return;\r\n    }\r\n\r\n    let coordinates = {\r\n      lng : this.startSearchDirection.start.location.coordinates[0],\r\n      lat : this.startSearchDirection.start.location.coordinates[1]\r\n    }\r\n\r\n    this.showLoader('Searching...');\r\n    this.tripService.nearTrips(coordinates).then((result) => {\r\n      this.loading.dismiss();\r\n      this.nearTrips = result;\r\n    }, (err) => {\r\n      this.loading.dismiss();\r\n    })\r\n  }\r\n\r\n  public showLoader(content){\r\n    this.loading = this.loadingCtrl.create({\r\n      content: content\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-trip/search-trip.ts","export class SearchTrip{\r\n\r\n  start: any;\r\n\r\n  constructor(\r\n    start:any\r\n  ){\r\n    this.start = start;\r\n    this.start.location = { coordinates: [start.geometry.location.lng(), start.geometry.location.lat()] };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/searchTrip.ts"],"sourceRoot":""}